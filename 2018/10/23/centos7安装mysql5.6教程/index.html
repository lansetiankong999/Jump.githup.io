<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title> | BLOG</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">BLOG</h1><a id="logo" href="/.">BLOG</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title"></h1><div class="post-meta">Oct 23, 2018</div><div class="post-content"><p><strong>一、安装MySQL</strong><br><br>1、下载安装包mysql-5.6.34-linux-glibc2.5-x86_64.tar（可前往官网自行下载：<a href="http://dev.mysql.com/downloads/mysql/）（本人使用sftp将存放在widows上的mysql5.6上传至服务器）" target="_blank" rel="noopener">http://dev.mysql.com/downloads/mysql/）（本人使用sftp将存放在widows上的mysql5.6上传至服务器）</a><br><br>2、卸载系统自带的Mariadb<br>打开Terminal终端：</p>
<p>==[root@localhost ~]# rpm -qa|grep mariadb  // 查询出来已安装的mariadb==<br><br>==[root@localhost ~]# rpm -e –nodeps 文件名  // 卸载mariadb，文件名为上述命令查询出来的文件==</p>
<p>3、删除etc目录下的my.cnf<br><br>==[root@localhost ~]# rm /etc/my.cnf==</p>
<p>4、执行以下命令来创建mysql用户组（注：如果用户已存在，就不用加了）<br><br>==[root@localhost ~]# groupadd mysql==</p>
<p>5、执行以下命令来创建一个用户名为mysql的用户并加入mysql用户组<br><br>==[root@localhost ~]# useradd -g mysql mysql==</p>
<p>6、将下载的压缩包放到 /usr/local/ 目录下（通过mv 要移动的文件  /usr/local/）</p>
<p>7、解压安装包<br><br>==[root@localhost ~]# tar -xvf mysql-5.6.34-linux-glibc2.5-x86_64.tar==<br><br>注：如果压缩包为：mysql-5.6.34-linux-glibc2.5-x86_64.tar.gz，<br>则解压命令为: tar -zxvf mysql-5.6.34-linux-glibc2.5-x86_64.tar.gz</p>
<p>8、将解压好的文件夹重命名为mysql<br><br>==[root@localhost local]# mv 解压出来的文件夹名 mysql==</p>
<p>9、在 etc 下新建配置文件my.cnf，并在该文件中添加一下代码：<br><br>当然，也有简单方式：直接copy一份my.cnf文件到/etc下，然后再修改即可。<br>e g：copy一份/usr/local/mysql/support-files/下的my-default.cnf文件到/etc下 命令为：<br><br>==[root@localhost support-files]# cp my-default.cnf /etc/my.cnf==<br><br>然后，配置/etc目录下的my.cnf文件<br><br>==[root@localhost support-files]# vim /etc/my.cnf==<br>通过vim编辑器编辑my.cnf代码如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[mysql]</span><br><span class="line"># 设置mysql客户端默认字符集</span><br><span class="line">default-character-set=utf8 </span><br><span class="line">socket=/var/lib/mysql/mysql.sock</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line">skip-name-resolve</span><br><span class="line">#设置3306端口</span><br><span class="line">port = 3306 </span><br><span class="line">socket=/var/lib/mysql/mysql.sock</span><br><span class="line"># 设置mysql的安装目录</span><br><span class="line">basedir=/usr/local/mysql</span><br><span class="line"># 设置mysql数据库的数据的存放目录</span><br><span class="line">datadir=/usr/local/mysql/data</span><br><span class="line"># 允许最大连接数</span><br><span class="line">max_connections=200</span><br><span class="line"># 服务端使用的字符集默认为8比特编码的latin1字符集</span><br><span class="line">character-set-server=utf8</span><br><span class="line"># 创建新表时将使用的默认存储引擎</span><br><span class="line">default-storage-engine=INNODB</span><br><span class="line">lower_case_table_name=1</span><br><span class="line">max_allowed_packet=108M</span><br></pre></td></tr></table></figure></p>
<p>10、进入安装mysql软件目录<br><br>==[root@localhost ~]# cd /usr/local/mysql==<br>==[root@localhost mysql]# chown -R mysql:mysql ./== <br>       修改当前目录拥有着为mysql用户<br><br>==[root@localhost mysql]# ./scripts/mysql_install_db –user=mysql –basedir=/usr/local/mysql/ –datadir=/usr/local/mysql/data/==<br> 安装数据库（注意查看日志！！！）<br><br>注：若执行以上最后一个命令出现以下问题：<br></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">FATAL ERROR: please install the following Perl modules before executing </span><br><span class="line">./scripts/mysql_install_db:Data::Dumper</span><br></pre></td></tr></table></figure>
<p><br><br>解决方法 ：安装autoconf库<br><br>命令: </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum -y install autoconf</span><br><span class="line">//此包安装时会安装Data:Dumper模块安装完成重新执行上述最后一个命令</span><br></pre></td></tr></table></figure>
<p>重新回到上述第三个命令继续操作：<br><br>==[root@localhost mysql]# chown -R mysql:mysql data==<br> 修改当前data目录的拥有者为mysql用户<br>到此数据库安装完毕！<br></p>
<p><strong><em>二、配置MySQL</em></strong><br><br>1、授予my.cnf最大权限<br><br>==[root@localhost ~]# chown 777 /etc/my.cnf==<br><br>设置开机自启动服务控制脚本：<br><br>2、复制启动脚本到资源目录<br><br>==[root@localhost mysql]# cp ./support-files/mysql.server /etc/rc.d/init.d/mysqld==<br><br>3、增加mysqld服务控制脚本执行权限<br><br>==[root@localhost mysql]# chmod +x /etc/rc.d/init.d/mysqld==<br><br>4、将mysqld服务加入到系统服务<br><br>==[root@localhost mysql]# chkconfig –add mysqld==<br><br>5、检查mysqld服务是否已经生效<br><br>==[root@localhost mysql]# chkconfig –list mysqld==<br><br>命令输出类似下面的结果:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysqld 0:off 1:off 2:on 3:on 4:on 5:on 6:off</span><br><span class="line">表明mysqld服务已经生效，在2、3、4、5运行级别随系统启动而自动启动，以后可以使用service命令控制mysql的启动和停止</span><br><span class="line">命令为:service mysqld start和service mysqld stop</span><br></pre></td></tr></table></figure>
<p>6、启动mysqld<br><br>==[root@localhost mysql]# service mysqld start==</p>
<p>(本人出现的错误)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@gipweb mysql]# service mysqld start</span><br><span class="line">Starting MySQL.Logging to &apos;/usr/local/mysql/data/gipweb.err&apos;.</span><br><span class="line">180829 17:58:44 mysqld_safe Directory &apos;/var/lib/mysql&apos; for UNIX socket file don&apos;t exists.</span><br><span class="line"> ERROR! The server quit without updating PID file (/usr/local/mysql/data/gipweb.pid).</span><br><span class="line">（解决办法）</span><br><span class="line">[root@gipweb mysql]# mkdir -p /var/lib/mysql</span><br><span class="line">[root@gipweb mysql]# chown mysql:mysql /var/lib/mysql/</span><br><span class="line">[root@gipweb mysql]# service mysqld start</span><br></pre></td></tr></table></figure>
<p>7、将mysql的bin目录加入PATH环境变量，编辑 ~/.bash_profile文件<br><br>==[root@localhost mysql]# vim ~/.bash_profile==<br><br>在文件最后添加如下信息:<br></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PATH=$PATH:/usr/local/mysql/bin</span><br></pre></td></tr></table></figure>
<p><br><br>然后按ESC键<br><br>继续 shift键加冒号打出来=&gt;  ：<br><br>接下来输入wq回车即可<br>执行下面的命令是修改的内容立即生效:<br></p>
<p>==[root@localhost mysql]# source ~/.bash_profile==<br><br>8、以root账户登录mysql,默认是没有密码的<br>==[root@localhost mysql]# mysql -uroot -p==<br><br>要输入密码的时候直接回车即可。<br><br>9、设置root账户密码为root（也可以修改成你要的密码）<br></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt;use mysql</span><br><span class="line">mysql&gt;update user set password=password(&apos;root&apos;) where user=&apos;root&apos; and host=&apos;localhost&apos;;</span><br><span class="line">mysql&gt;flush privileges;</span><br></pre></td></tr></table></figure>
<p>10、设置远程主机登录，注意下面的your username 和 your password改成你需要设置的用户和密码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt;GRANT ALL PRIVILEGES ON *.* TO &apos;your username&apos;@&apos;%&apos; IDENTIFIED BY &apos;your password&apos; WITH</span><br><span class="line">GRANT OPTION;</span><br></pre></td></tr></table></figure>
</div><div class="tags"></div><div class="post-nav"><a class="pre" href="/2018/10/24/docker的安装/"></a><a class="next" href="/2018/10/23/数据库存入移动端表情出错/"></a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://kongxianghe.top"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/10/24/spring boot 与spring cloud/">spring boot 与spring cloud</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/24/maven将外部jar添加到本地仓库/">maven将外部jar添加到本地仓库</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/24/docker的安装/">docker的安装</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/23/centos7安装mysql5.6教程/">centos7安装mysql5.6教程</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/23/数据库存入移动端表情出错/">数据库存入移动端表情出错</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/23/Java内存模型（JMM）/">Java内存模型（JMM）</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/23/进程，端口，服务/">进程，端口，服务</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/23/javascript前端脚本技术/">javascript前端脚本技术</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/23/CSS样式表/">CSS样式表</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/23/javaScript前端脚本技术二/">javaScript前端脚本技术二</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">BLOG.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>