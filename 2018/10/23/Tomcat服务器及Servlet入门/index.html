<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title> | BLOG</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">BLOG</h1><a id="logo" href="/.">BLOG</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title"></h1><div class="post-meta">Oct 23, 2018</div><div class="post-content"><h2 id="Tomcat服务器及Servlet入门"><a href="#Tomcat服务器及Servlet入门" class="headerlink" title="Tomcat服务器及Servlet入门"></a>Tomcat服务器及Servlet入门</h2><h4 id="今日内容"><a href="#今日内容" class="headerlink" title="今日内容"></a>今日内容</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">1.web服务器简介</span><br><span class="line">2.B/S架构和C/S架构</span><br><span class="line">3.tomcat服务器搭建（重点）</span><br><span class="line">	tomcat服务器介绍</span><br><span class="line">	tomcat服务器安装</span><br><span class="line">	tomcat服务器目录介绍</span><br><span class="line">	tomcat服务器启动</span><br><span class="line">	tomcat服务器的访问</span><br><span class="line">4.eclipse集成tomcat（重点）</span><br><span class="line">5.javaWeb项目创建及结构（重点）</span><br><span class="line">	javaWeb项目创建</span><br><span class="line">	javaWeb项目结构讲解</span><br><span class="line">	javaWeb中的jar包加载</span><br><span class="line">	web.xml文件详解</span><br><span class="line">6.HTTP协议简介</span><br><span class="line">	HTTP概念</span><br><span class="line">	HTTP特点</span><br><span class="line">	HTTP通信</span><br><span class="line">	HTTP请求</span><br><span class="line">	HTTP响应</span><br><span class="line">7.Servlet简介（重点）</span><br><span class="line">	Servlet概念</span><br><span class="line">	Servlet基本使用</span><br><span class="line">	ServletAPI</span><br><span class="line">	Servlet的三种创建方式</span><br><span class="line">	Servlet的二种配置方式</span><br><span class="line">8.Servlet的生命周期（重点）</span><br><span class="line">	概念</span><br><span class="line">	生命周期四个阶段</span><br><span class="line">	生命周期代码实例</span><br><span class="line">9.Servlet获到页面传参（重点）</span><br><span class="line">	页面表单</span><br><span class="line">	Servlet获取参数</span><br><span class="line">	get请求和post请求异同</span><br><span class="line">	中文乱码解决</span><br><span class="line">	</span><br><span class="line">10.作业</span><br></pre></td></tr></table></figure>
<p>####一.web服务器简介</p>
<p>Web服务器是运行及发布Web应用的容器，只有将开发的Web项目放置到该容器中，才能使网络中的所有用户通过浏览器进行访问。开发Java Web应用所采用的服务器主要是与JSP/Servlet兼容的Web服务器，比较常用的有Tomcat、Resin、JBoss、WebSphere 和 WebLogic 等。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Tomcat 服务器</span><br><span class="line">　　目前最为流行的Tomcat服务器是Apache-Jarkarta开源项目中的一个子项目，是一个小型、轻量级的支持JSP和Servlet 技术的Web服务器，也是初学者学习开发JSP应用的首选</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Resin 服务器</span><br><span class="line">　　Resin是Caucho公司的产品，是一个非常流行的支持Servlet和JSP的服务器，速度非常快。Resin本身包含了一个支持HTML的Web服务器，这使它不仅可以显示动态内容，而且显示静态内容的能力也毫不逊色，因此许多网站都是使用Resin服务器构建</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">JBoss服务器(通用动web,但不包含servlet和jsp等jar)</span><br><span class="line">　　JBoss是一个种遵从JavaEE规范的、开放源代码的、纯Java的EJB服务器，对于J2EE有很好的支持。JBoss采用JML API实现软件模块的集成与管理，其核心服务又是提供EJB服务器，不包含Servlet和JSP的Web容器，不过它可以和Tomcat完美结合</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">WebSphere 服务器</span><br><span class="line">　　WebSphere是IBM公司的产品，可进一步细分为 WebSphere Performance Pack、Cache Manager 和WebSphere Application Server等系列，其中WebSphere Application Server 是基于Java 的应用环境，可以运行于 Sun Solaris、Windows NT 等多种操作系统平台，用于建立、部署和管理Internet和Intranet Web应用程序。</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">WebLogic 服务器(功能强大)</span><br><span class="line">　　WebLogic 是BEA公司的产品（现在已经被Oracle收购），可进一步细分为 WebLogic Server、WebLogic Enterprise 和 WebLogic Portal 等系列，其中 WebLogic Server 的功能特别强大。WebLogic 支持企业级的、多层次的和完全分布式的Web应用，并且服务器的配置简单、界面友好。对于那些正在寻求能够提供Java平台所拥有的一切应用服务器的用户来说，WebLogic是一个十分理想的选择</span><br></pre></td></tr></table></figure>
<h4 id="二-服务器架构"><a href="#二-服务器架构" class="headerlink" title="二.服务器架构"></a>二.服务器架构</h4><p><strong>B/S 与C/S模式</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">B/S:Browser/Server或浏览器/服务器模式</span><br><span class="line">优点是用户使用简单只要有浏览器和网络即可</span><br><span class="line">常见的程序：淘宝网、京东网等</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">C/S:Client/Server或客户端/服务器模式</span><br><span class="line">C/S的优点是能充分发挥客户端PC的处理能力</span><br><span class="line">缺点是对用户的电脑配置要求较高</span><br><span class="line">常见的CS程序：LOL、穿越火线、QQ</span><br></pre></td></tr></table></figure>
<p>####三.tomcat服务器搭建（重点）</p>
<p><strong>1.tomcat服务器介绍</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Tomcat是Apache 软件基金会（Apache Software Foundation）的Jakarta 项目中的一个核心项目，由Apache、Sun 和其他一些公司及个人共同开发而成。由于有了Sun 的参与和支持，最新的Servlet 和JSP 规范总是能在Tomcat 中得到体现，Tomcat 5支持最新的Servlet 2.4 和JSP 2.0 规范。因为Tomcat 技术先进、性能稳定，而且免费，因而深受Java 爱好者的喜爱并得到了部分软件开发商的认可，成为目前比较流行的Web 应用服务器。</span><br><span class="line">Tomcat 服务器是一个免费的开放源代码的Web 应用服务器，属于轻量级应用服务器，在中小型系统和并发访</span><br><span class="line">问用户不是很多的场合下被普遍使用，是开发和调试JSP 程序的首选。对于一个初学者来说，可以这样认为，当在一台机器上配置好Apache 服务器，可利用它响应HTML（标准通用标记语言下的一个应用）页面的访问请求。实际上Tomcat是Apache 服务器的扩展，但运行时它是独立运行的，所以当你运行tomcat 时，它实际上作为一个与Apache 独立的进程单独运行的。</span><br><span class="line">诀窍是，当配置正确时，Apache 为HTML页面服务，而Tomcat 实际上运行JSP 页面和Servlet。另外，Tomcat和IIS等Web服务器一样，具有处理HTML页面的功能，另外它还是一个Servlet和JSP容器，独立的Servlet容器是Tomcat的默认模式。不过，Tomcat处理静态HTML的能力不如Apache服务器。目前Tomcat最新版本为9.0。</span><br></pre></td></tr></table></figure>
<p><strong>2.tomcat服务器安装</strong></p>
<p>tomcat压缩版,安装特别方便,只需要右键解压即可!</p>
<p>安装步骤如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. 下载Tomcat，如果网速比较慢，可以在网盘下载</span><br><span class="line">2. 解压到一个没有特殊符号的目录中（一般纯英文即可）</span><br><span class="line">3. 进入到解压的目录下找到bin\startup.bat双击启动即可</span><br></pre></td></tr></table></figure>
<p>注意事项:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">不建议将服务器软件放在磁盘层次很多的文件夹中!</span><br><span class="line">不建议放在中文路径下!</span><br><span class="line">tomcat安装需要配置JAVA_HOME环境变量</span><br><span class="line">第一次启动服务器建议使用命名行打开,因为可以提示错误信息!</span><br></pre></td></tr></table></figure>
<p><strong>3.tomcat服务器目录介绍</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">1、bin：该目录下存放的是二进制可执行文件，如果是安装版，那么这个目录下会有两个exe文件：tomcat8.exe、tomcat8w.exe，前者是在控制台下启动Tomcat，后者是弹出UGI窗口启动Tomcat；如果是解压版，那么会有startup.bat和shutdown.bat文件，startup.bat用来启动Tomcat，但需要JDK的配置，shutdawn.bat用来停止Tomcat；</span><br><span class="line"></span><br><span class="line">2、conf：这是一个非常非常重要的目录，这个目录下有四个最为重要的文件：</span><br><span class="line">server.xml：配置整个服务器信息。例如修改端口号，添加虚拟主机等；</span><br><span class="line">tomcatusers.xml：存储tomcat用户的文件，这里保存的是tomcat的用户名及密码，以及用户的角色信息。可以按着该文件中的注释信息添加tomcat用户，然后就可以在Tomcat主页中进入Tomcat Manager页面了；</span><br><span class="line">web.xml：部署描述符文件，这个文件中注册了很多MIME类型，即文档类型。这些MIME类型是客户端与服务器之间说明文档类型的，如用户请求一个html网页，那么服务器还会告诉客户端浏览器响应的文档是text/html类型的，这就是一个MIME类型。客户端浏览器通过这个MIME类型就知道如何处理它了。当然是在浏览器中显示这个html文件了。但如果服务器响应的是一个exe文件，那么浏览器就不可能显示它，而是应该弹出下载窗口才对。</span><br><span class="line">MIME就是用来说明文档的内容是什么类型的,通过服务器响应给客户端，让客户端使用应有的方式去处理</span><br><span class="line">context.xml：对所有应用的统一配置，通常我们不会去配置它。</span><br><span class="line"></span><br><span class="line">3、lib：Tomcat的类库，里面是一大堆jar文件。如果需要添加Tomcat依赖的jar文件，可以把它放到这个目录中，当然也可以把应用依赖的jar文件放到这个目录中，这个目录中的jar所有项目都可以共享之，但这样你的应用放到其他Tomcat下时就不能再共享这个目录下的Jar包了，所以建议只把Tomcat需要的Jar包放到这个目录下；</span><br><span class="line"></span><br><span class="line">4、logs：这个目录中都是日志文件，记录了Tomcat启动和关闭的信息，如果启动Tomcat时有错误，那么异常也会记录在日志文件中。</span><br><span class="line"></span><br><span class="line">5、temp：存放Tomcat的临时文件，这个目录下的东西可以在停止Tomcat后删除！</span><br><span class="line"></span><br><span class="line">6、webapps：存放web项目的目录，其中每个文件夹都是一个项目；如果这个目录下已经存在了目录，那么都是tomcat自带的项目。其中ROOT是一个特殊的项目，在地址栏中没有给出项目目录时，对应的就是ROOT项目。http://localhost:8080/examples，进入示例项目。其中examples就是项目名，即文件夹的名字。</span><br><span class="line"></span><br><span class="line">7、work：运行时生成的文件，最终运行的文件都在这里。通过webapps中的项目生成的！可以把这个目录下的内容删除，再次运行时会生再次生成work目录。当客户端用户访问一个JSP文件时，Tomcat会通过JSP生成Java文件，然后再编译Java文件生成class文件，生成的java和class文件都会存放到这个目录下。</span><br><span class="line"></span><br><span class="line">8、LICENSE：许可证。</span><br><span class="line"></span><br><span class="line">9、NOTICE：说明文件。</span><br></pre></td></tr></table></figure>
<p><strong>4.tomcat服务器启动</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tomcat安装文件/bin/startup.bat 启动程序</span><br></pre></td></tr></table></figure>
<p><strong>5.tomcat服务器的访问</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">打开浏览器,输入http://localhost:8080</span><br></pre></td></tr></table></figure>
<p>出下以下界面表示安装成功</p>
<p><img src="D:\JAVAEE教案\JAVAEE笔记\第9天 tomcat服务器使用及servlet入门\笔记\pic\3.png" alt="3.png"></p>
<h4 id="四-eclipse集成tomcat"><a href="#四-eclipse集成tomcat" class="headerlink" title="四.eclipse集成tomcat"></a>四.eclipse集成tomcat</h4><p><strong>1.打开Eclipse的window–&gt;Preferences—&gt;Server</strong></p>
<p><img src="D:\JAVAEE教案\JAVAEE笔记\第9天 tomcat服务器使用及servlet入门\笔记\pic\5.bmp" alt="6.bmp"></p>
<p><strong>2.点击add—&gt;选择对应的版本—&gt;Finish即可</strong></p>
<p><img src="D:\JAVAEE教案\JAVAEE笔记\第9天 tomcat服务器使用及servlet入门\笔记\pic\6.bmp" alt="6.bmp"></p>
<p><strong>3.然后选择右边的server—&gt;空白处右键new—&gt;server—&gt;Finish即可。</strong></p>
<p><img src="D:\JAVAEE教案\JAVAEE笔记\第9天 tomcat服务器使用及servlet入门\笔记\pic\7.bmp" alt="7.bmp"></p>
<p><strong>4.再右键新建的服务器点击open，按照图片进行修改保存即可</strong></p>
<p><img src="D:\JAVAEE教案\JAVAEE笔记\第9天 tomcat服务器使用及servlet入门\笔记\pic\8.bmp" alt="8.bmp"></p>
<p><strong>5.选中新建的服务器右键start即可启动</strong></p>
<h4 id="五-javaWeb项目创建及结构"><a href="#五-javaWeb项目创建及结构" class="headerlink" title="五.javaWeb项目创建及结构"></a>五.javaWeb项目创建及结构</h4><p><strong>1.javaWeb项目创建</strong></p>
<p><img src="D:\JAVAEE教案\JAVAEE笔记\第9天 tomcat服务器使用及servlet入门\笔记\pic\9.bmp" alt="9.bmp"></p>
<p><strong>2. javaweb项目结构讲解</strong></p>
<p><img src="D:\JAVAEE教案\JAVAEE笔记\第9天 tomcat服务器使用及servlet入门\笔记\pic\11.bmp" alt="2.png"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Java web工程下的webapp或WebContent就是工程的发布文件夹，发布时会把该文件夹发布到tomcat的webapps里。</span><br><span class="line"></span><br><span class="line">开发时classes文件存放路径：</span><br><span class="line">buildpath：在eclipse中项目的右键java build path-source中指定工程中class文件的编译路径，一般为：test/build/classes。（test是工程名）</span><br><span class="line"></span><br><span class="line">发布时classes文件存放路径：</span><br><span class="line">发布到tomcat时（在eclipse里启动tomcat），src文件夹里的java文件经过编译后，会把.class文件放在WEB-INF文件夹里的classes文件夹中。</span><br><span class="line"></span><br><span class="line">有一些配置文件需要放到WEB-INF的classes文件夹下，所以，通常的做法是手动在工程的WEB-INF文件夹下建立classes文件夹。如果不在工程的WEB-INF下手动建立classes，发布到tomcat时tomcat里的WEB-INF中也会有classes文件夹。</span><br></pre></td></tr></table></figure>
<p><strong>3.javaWeb中的jar包加载</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">【Web App Libraries】 一般是指向web工程的WEB-INF/lib下的包(可以将包copy到此目录下,然后刷新工程,加入的包一般可以自动找到,如果找不到,右键Properties-&gt;Java Build Path-&gt;Libraries-&gt;Add JARs可以加入.</span><br><span class="line"></span><br><span class="line">如果引用了工程以外的jar，一般会在.classpath中添加&lt;classpathentry kind=&quot;lib&quot; path=&quot;xxx/xxx.jar&quot;/&gt;</span><br><span class="line">以此来表示引入该jar包</span><br><span class="line"></span><br><span class="line">而web-info/lib中的jar不会往.classpath文件中会添加</span><br><span class="line"></span><br><span class="line">编绎jar包的顺序：编译的时候先找classpath中的jar如果没有则找web-info/lib中的jar。</span><br><span class="line"></span><br><span class="line">web工程参照了很多文件，因此发布的时候要打成war包，使其变成单独的个体，放到web容器里。开发环境中eclipse会将工程打包放到tomcat下，进行关联。</span><br></pre></td></tr></table></figure>
<p><strong>4.web.xml文件详解</strong></p>
<p>Web 应用名称：提供GUI工具可能会用来标记这个特定的Web应用的一个名称，如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;display-name&gt;Tomcat Example&lt;/display-name&gt;</span><br></pre></td></tr></table></figure>
<p>Web 应用描述：给出于此相关的说明性文本，如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;desciption&gt;Tomcat Example servlets and JSP pages.&lt;/desciption&gt;</span><br></pre></td></tr></table></figure>
<p>上下文参数：声明应用范围内的初始化参数，如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> &lt;context-param&gt;</span><br><span class="line">      &lt;param-name&gt;参数名&lt;/para-name&gt;</span><br><span class="line">      &lt;param-value&gt;参数值&lt;/param-value&gt;</span><br><span class="line">      &lt;description&gt;参数描述&lt;/description&gt;</span><br><span class="line">  &lt;/context-param&gt;</span><br><span class="line">  </span><br><span class="line">注意：这是全局参数的获得方式，在servlet里面可以通过 getServletContext().getInitParameter(“context/param”)得到</span><br></pre></td></tr></table></figure>
<p>过滤器配置：将一个名字与一个实现javaxs.servlet.Filter接口的类相关联，如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;filter&gt;</span><br><span class="line">       &lt;filter-name&gt;setCharacterEncoding&lt;/filter-name&gt;</span><br><span class="line">       &lt;filter-class&gt;com.myTest.setCharacterEncodingFilter&lt;/filter-class&gt;</span><br><span class="line">       &lt;init-param&gt;</span><br><span class="line">           &lt;param-name&gt;encoding&lt;/param-name&gt;</span><br><span class="line">           &lt;param-value&gt;GB2312&lt;/param-value&gt;</span><br><span class="line">       &lt;/init-param&gt;</span><br><span class="line">   &lt;/filter&gt;</span><br><span class="line">   &lt;filter-mapping&gt;</span><br><span class="line">      &lt;filter-name&gt;setCharacterEncoding&lt;/filter-name&gt;</span><br><span class="line">      &lt;url-pattern&gt;/*&lt;/url-pattern&gt;</span><br><span class="line">  &lt;/filter-mapping&gt;</span><br></pre></td></tr></table></figure>
<p>监听器配置,如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;listener&gt;</span><br><span class="line">     &lt;listerner-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;</span><br><span class="line"> &lt;/listener&gt;</span><br></pre></td></tr></table></figure>
<p>Servlet配置，如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> &lt;servlet&gt;</span><br><span class="line">    &lt;servlet-name&gt;servlet名称&lt;/servlet-name&gt;</span><br><span class="line">    &lt;servlet-class&gt;servlet类全路径&lt;/servlet-class&gt;</span><br><span class="line">    &lt;init-param&gt;</span><br><span class="line">        &lt;param-name&gt;参数名&lt;/param-name&gt;</span><br><span class="line">        &lt;param-value&gt;参数值&lt;/param-value&gt;</span><br><span class="line">    &lt;/init-param&gt;</span><br><span class="line">　 &lt;load-on-startup&gt;指定当Web应用启动时，装载Servlet的次序&lt;/load-on-startup&gt;</span><br><span class="line">&lt;/servlet&gt;</span><br><span class="line">&lt;servlet-mapping&gt;</span><br><span class="line">  &lt;servlet-name&gt;servlet名称&lt;/servlet-name&gt;</span><br><span class="line">  &lt;url-pattern&gt;映射路径&lt;/url-pattern&gt;</span><br><span class="line">&lt;/servlet-mapping&gt;</span><br></pre></td></tr></table></figure>
<p>会话超时配置（单位为分钟），如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;session-config&gt;</span><br><span class="line">     &lt;session-timeout&gt;120&lt;/session-timeout&gt;</span><br><span class="line">&lt;/session-config&gt;</span><br></pre></td></tr></table></figure>
<p>MIME类型配置（手动设置扩展名为htm，标记为html文档），如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;mime-mapping&gt;</span><br><span class="line">      &lt;extension&gt;htm&lt;/extension&gt;</span><br><span class="line">      &lt;mime-type&gt;text/html&lt;/mime-type&gt;</span><br><span class="line">&lt;/mime-mapping&gt;</span><br></pre></td></tr></table></figure>
<p>指定欢迎文件页配置，如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;welcome-file-list&gt;</span><br><span class="line">    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;</span><br><span class="line">    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;</span><br><span class="line">    &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;</span><br><span class="line">&lt;/welcome-file-list&gt;</span><br></pre></td></tr></table></figure>
<p>配置错误页面，如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--配置了当系统发生404错误时，跳转到错误处理页面NotFound.jsp--&gt;</span><br><span class="line">&lt;error-page&gt;</span><br><span class="line">       &lt;error-code&gt;404&lt;/error-code&gt;</span><br><span class="line">       &lt;location&gt;/NotFound.jsp&lt;/location&gt;</span><br><span class="line">&lt;/error-page&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--配置了当系统发生java.lang.NullException（即空指针异常）时，跳转到错误处理页面error.jsp--&gt;</span><br><span class="line">&lt;error-page&gt;</span><br><span class="line">     &lt;exception-type&gt;java.lang.NullException&lt;/exception-type&gt;</span><br><span class="line">     &lt;location&gt;/error.jsp&lt;/location&gt;</span><br><span class="line">&lt;/error-page&gt;</span><br></pre></td></tr></table></figure>
<p>TLD配置（标签库配置），如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;taglib&gt;</span><br><span class="line">     &lt;taglib-uri&gt;标签库唯一访问标识(必须与标签库tld描述文件中的uri一致)&lt;/taglib-uri&gt;</span><br><span class="line">     &lt;taglib-location&gt;标签库tld描述文件本地路径(如/WEB-INF/mytag.tld)&lt;/taglib-location&gt;</span><br><span class="line"> &lt;/taglib&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">如果开发工具一直在报错,应该把&lt;taglib&gt; 放到 &lt;jsp-config&gt;中</span><br><span class="line"> &lt;jsp-config&gt;</span><br><span class="line">      &lt;taglib&gt;</span><br><span class="line">          &lt;taglib-uri&gt;http://jakarta.apache.org/tomcat/debug-taglib&lt;/taglib-uri&gt;</span><br><span class="line">          &lt;taglib-location&gt;/WEB-INF/pager-taglib.tld&lt;/taglib-location&gt;</span><br><span class="line">      &lt;/taglib&gt;</span><br><span class="line">  &lt;/jsp-config&gt;</span><br></pre></td></tr></table></figure>
<h4 id="六-HTTP协议简介"><a href="#六-HTTP协议简介" class="headerlink" title="六.HTTP协议简介"></a>六.HTTP协议简介</h4><p><strong>1.HTTP概念</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">超文本传输协议（HTTP，HyperText Transfer Protocol)是互联网上应用最为广泛的一种网络协议,是一个基于请求与响应模式的、无状态的、应用层的协议，常基于TCP的连接方式。</span><br><span class="line">它于1990年提出，经过几年的使用与发展，得到不断地完善和扩展。目前在WWW中使用的是HTTP/1.0的第六版，HTTP/1.1的规范化工作正在进行之中，而且HTTP-NG(NextGeneration of HTTP)的建议已经提出。</span><br></pre></td></tr></table></figure>
<p><strong>2.HTTP特点</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1.支持客户/服务器模式。</span><br><span class="line">2.简单快速：客户向服务器请求服务时，只需传送请求方法和路径。请求方法常用的有GET、HEAD、POST。每种方法规定了客户与服务器联系的类型不同。由于HTTP协议简单，使得HTTP服务器的程序规模小，因而通信速度很快。</span><br><span class="line">3.灵活：HTTP允许传输任意类型的数据对象。正在传输的类型由Content-Type加以标记。</span><br><span class="line">4.无连接：无连接的含义是限制每次连接只处理一个请求。服务器处理完客户的请求，并收到客户的应答后，即断开连接。采用这种方式可以节省传输时间。</span><br><span class="line">5.无状态：HTTP协议是无状态协议。无状态是指协议对于事务处理没有记忆能力。缺少状态意味着如果后续处理需要前面的信息，则它必须重传，这样可能导致每次连接传送的数据量增大。另一方面，在服务器不需要先前信息时它的应答就较快。</span><br></pre></td></tr></table></figure>
<p><strong>3.HTTP通信过程（先请求，后响应）</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">HTTP通信机制是在一次完整的HTTP通信过程中，Web浏览器与Web服务器之间将完成下列7个步骤：</span><br><span class="line">1、 建立TCP连接</span><br><span class="line">在HTTP工作开始之前，Web浏览器首先要通过网络与Web服务器建立连接，该连接是通过TCP来完成的，该协议与IP协议共同构建Internet，即著名的TCP/IP协议族，因此Internet又被称作是TCP/IP网络。HTTP是比TCP更高层次的应用层协议，根据规则，只有低层协议建立之后才能进行更高层协议的连接。因此，首先要建立TCP连接，一般TCP连接的端口号是80</span><br><span class="line">2、 浏览器向Web服务器发送请求命令</span><br><span class="line">一旦建立了TCP连接，Web浏览器就会向Web服务器发送请求命令</span><br><span class="line">例如：GET/sample/hello.html HTTP/1.1</span><br><span class="line">3、 浏览器发送请求头信息</span><br><span class="line">浏览器发送其请求命令之后，还要以头信息的形式向Web服务器发送一些别的信息，之后浏览器发送了一空白行来通知服务器，它已经结束了该头信息的发送。</span><br><span class="line">4、 Web服务器应答</span><br><span class="line">客户机向服务器发出请求后，服务器会客户机回送应答，</span><br><span class="line">HTTP/1.1 200 OK</span><br><span class="line">应答的第一部分是协议的版本号和应答状态码</span><br><span class="line">5、 Web服务器发送应答头信息</span><br><span class="line">正如客户端会随同请求发送关于自身的信息一样，服务器也会随同应答向用户发送关于它自己的数据及被请求的文档。</span><br><span class="line">6、 Web服务器向浏览器发送数据</span><br><span class="line">Web服务器向浏览器发送头信息后，它会发送一个空白行来表示头信息的发送到此为结束，接着，它就以Content-Type应答头信息所描述的格式发送用户所请求的实际数据</span><br><span class="line">7、 Web服务器关闭TCP连接</span><br><span class="line">一般情况下，一旦Web服务器向浏览器发送了请求数据，它就要关闭TCP连接，然后如果浏览器或者服务器在其头信息加入了这行代码 Connection:keep-alive</span><br><span class="line">TCP连接在发送后将仍然保持打开状态，于是，浏览器可以继续通过相同的连接发送请求。保持连接节省了为每个请求建立新连接所需的时间，还节约了网络带宽</span><br></pre></td></tr></table></figure>
<p><strong>4.HTTP请求</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">当浏览器向Web服务器发出请求时，它向服务器传递了一个数据块，也就是请求信息，HTTP请求信息由3部分组成：</span><br><span class="line">1 请求方法URI协议/版本</span><br><span class="line">2 请求头(Request Header)</span><br><span class="line">3 请求正文</span><br></pre></td></tr></table></figure>
<p>下面是一个HTTP请求的例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">GET/hello HTTP/1.1</span><br><span class="line"></span><br><span class="line">Accept:text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8</span><br><span class="line">Accept-Language:zh-CN,zh;q=0.8,en-GB;q=0.6,en;q=0.4</span><br><span class="line">Connection:Keep-Alive</span><br><span class="line">Host:localhost</span><br><span class="line">User-Agent:Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36</span><br><span class="line">Accept-Encoding:gzip, deflate, br </span><br><span class="line"></span><br><span class="line">name=zhangsan</span><br><span class="line"></span><br><span class="line">解析如下：</span><br><span class="line">1、请求方法 URI 协议/版本</span><br><span class="line">请求的第一行是“方法URL议/版本”：GET/hello HTTP/1.1</span><br><span class="line">以上代码中“GET”代表请求方法，“/hello”表示URI，“HTTP/1.1代表协议和协议的版本。</span><br><span class="line">根据HTTP标准，HTTP请求可以使用多种请求方法。例如：HTTP1.1支持7种请求方法：GET、POST、HEAD、OPTIONS、PUT、DELETE和TARCE。在Internet应用中，最常用的方法是GET和POST。</span><br><span class="line">URL完整地指定了要访问的网络资源，通常只要给出相对于服务器的根目录的相对目录即可，因此总是以“/”开头，最后，协议版本声明了通信过程中使用HTTP的版本。</span><br><span class="line">2、请求头(Request Header)</span><br><span class="line">请求头包含许多有关的客户端环境和请求正文的有用信息。例如，请求头可以声明浏览器所用的语言，请求正文的长度等。</span><br><span class="line">Accept:text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8</span><br><span class="line">Accept-Language:zh-CN,zh;q=0.8,en-GB;q=0.6,en;q=0.4</span><br><span class="line">Connection:Keep-Alive</span><br><span class="line">Host:localhost</span><br><span class="line">User-Agent:Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36</span><br><span class="line">Accept-Encoding:gzip, deflate, br</span><br><span class="line">3、请求正文</span><br><span class="line">请求头和请求正文之间是一个空行，这个行非常重要，它表示请求头已经结束，接下来的是请求正文。请求正文中可以包含客户提交的查询字符串信息：</span><br><span class="line">name=zhangsan</span><br></pre></td></tr></table></figure>
<p><strong>5.HTTP响应</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">在接收和解释请求消息后，服务器返回一个HTTP响应消息。</span><br><span class="line">HTTP响应也是由三个部分组成，分别是：状态行、消息报头、响应正文</span><br></pre></td></tr></table></figure>
<p>其中状态行如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">状态行格式如下：</span><br><span class="line">HTTP-Version  Status-Code  Reason-Phrase  CRLF</span><br><span class="line"></span><br><span class="line">其中：</span><br><span class="line">HTTP-Version表示服务器HTTP协议的版本；</span><br><span class="line">Status-Code表示服务器发回的响应状态代码；</span><br><span class="line">Reason-Phrase表示状态代码的文本描述。</span><br><span class="line"></span><br><span class="line">状态代码有三位数字组成，第一个数字定义了响应的类别，且有五种可能取值：</span><br><span class="line">1xx：指示信息--表示请求已接收，继续处理</span><br><span class="line">2xx：成功--表示请求已被成功接收、理解、接受</span><br><span class="line">3xx：重定向--要完成请求必须进行更进一步的操作</span><br><span class="line">4xx：客户端错误--请求有语法错误或请求无法实现</span><br><span class="line">5xx：服务器端错误--服务器未能实现合法的请求</span><br><span class="line">常见状态代码、状态描述、说明：</span><br><span class="line">200 OK      //客户端请求成功（记住）</span><br><span class="line">400 Bad Request  //客户端请求有语法错误，不能被服务器所理解（记住）</span><br><span class="line">401 Unauthorized //请求未经授权，这个状态代码必须和WWW-Authenticate报头域一起使用 </span><br><span class="line">403 Forbidden  //服务器收到请求，但是拒绝提供服务</span><br><span class="line">404 Not Found  //请求资源不存在，eg：输入了错误的URL（记住）</span><br><span class="line">500 Internal Server Error //服务器发生不可预期的错误（记住）</span><br><span class="line">503 Server Unavailable  //服务器当前不能处理客户端的请求，一段时间后可能恢复正常</span><br><span class="line">eg：HTTP/1.1 200 OK （CRLF）</span><br></pre></td></tr></table></figure>
<p>如访问<a href="http://www.1000phone.com/" target="_blank" rel="noopener">http://www.1000phone.com/</a></p>
<p><img src="D:\JAVAEE教案\JAVAEE笔记\第9天 tomcat服务器使用及servlet入门\笔记\pic\10.bmp" alt="10.bmp"></p>
<h4 id="七-Servlet简介"><a href="#七-Servlet简介" class="headerlink" title="七.Servlet简介"></a>七.Servlet简介</h4><p><strong>1.概念</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Servlet（Server Applet）是Java Servlet的简称，称为小服务程序或服务连接器，用Java编写的服务器端程序，主要功能在于交互式地浏览和修改数据，生成动态Web内容</span><br><span class="line">Servlet运行于支持Java的应用服务器中。从实现上讲，Servlet可以响应任何类型的请求，但绝大多数情况下Servlet只用来扩展基于HTTP协议的Web服务器。</span><br></pre></td></tr></table></figure>
<p><strong>2.Servlet的基本使用</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. 在src创建package</span><br><span class="line">2. 选中刚刚创建的包，右键--&gt;New--&gt;Servlet</span><br><span class="line">3. 发布到tomcat容器中</span><br><span class="line">4. 浏览器输入网址访问：http://localhost:8080/项目名称/HelloServlet</span><br></pre></td></tr></table></figure>
<p>第一个Servlet代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> *第一个Servlet程序</span><br><span class="line"> */</span><br><span class="line">@WebServlet(&quot;/HelloServlet&quot;)</span><br><span class="line">public class HelloServlet extends HttpServlet &#123;</span><br><span class="line">	private static final long serialVersionUID = 1L;</span><br><span class="line">       </span><br><span class="line">    /**</span><br><span class="line">     * @构造函数</span><br><span class="line">     */</span><br><span class="line">    public HelloServlet() &#123;</span><br><span class="line">        super();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	/**</span><br><span class="line">	 *  处理Get请求</span><br><span class="line">	 */</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		// 响应内容到浏览器</span><br><span class="line">		response.getWriter().print(&quot;Hello Word&quot;);;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	/**</span><br><span class="line">	 * 处理Post请求</span><br><span class="line">	 */</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>3.ServletAPI</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Servlet编程需要使用到javax.servlet 和 javax.servlet.http两个包下面的类和接口，在所有的类和接口中，javax.servlet.servlet 接口最为重要。所有的servlet程序都必须实现该接口或者继承实现了该接口的类。</span><br><span class="line"></span><br><span class="line">其中：</span><br><span class="line">javax.Servlet是父接口</span><br><span class="line">javax.GenericServlet是抽像类，实现了Servlet接口，该类没有实现http协议</span><br><span class="line">javax.HttpServlet是GenericServlet的子类，该类实现了Http协议，专门处理Http请求服务的</span><br><span class="line"></span><br><span class="line">常用的API</span><br><span class="line">javax.servlet.ServletConfig;</span><br><span class="line">javax.servlet.ServletException;</span><br><span class="line">javax.servlet.http.HttpServlet;</span><br><span class="line">javax.servlet.http.HttpServletRequest;</span><br><span class="line">javax.servlet.http.HttpServletResponse;</span><br><span class="line">javax.servlet.http.HttpSession;</span><br><span class="line">javax.servlet.http.Cookie;</span><br></pre></td></tr></table></figure>
<p>其中三个重要接口和类如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Servlet接口</span><br><span class="line">在ServletAPI中最重要的是Servlet接口，所有Servlet都会直接或间接的与该接口发生联系，或是直接实现该接口，或间接继承自实现了该接口的类。</span><br><span class="line">该接口包括以下五个方法：</span><br><span class="line"></span><br><span class="line">init(ServletConfig config)</span><br><span class="line">ServletConfig getServletConfig()</span><br><span class="line">service(ServletRequest req,ServletResponse res)</span><br><span class="line">String getServletInfo()</span><br><span class="line">destroy( )</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GenericServlet抽象类</span><br><span class="line">它对Servlet接口中的部分方法（init和destroy）添加了实现，使得开发时只需要考虑针对service方法的业务实现即可。</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">HttpServlet类</span><br><span class="line">是继承GenericServlet的基础上进一步的扩展，</span><br><span class="line">扩展方法：</span><br><span class="line">public voidinit(ServletConfig config)，</span><br><span class="line">public void init()。他们有如下的关系： init（ServletConfig config）方法由tomcat自动调用，它读取web工程下的web.xml，将读取的信息打包传给此参数，此方法的参数同时将接收的信息传递给GenericServlet类中的成员变量config，同时调用init()。以后程序员想重写init方法可以选择init（ServletConfig config）或者init()，但是选择init（ServletConfig config）势必会覆盖此方法已实现的内容，没有为config变量赋值，此后若是调用getServletConfig（）方法返回config时会产生空指针异常的，所以想重写init（ServletConfig config）方法，必须在方法体中第一句写上 super.init（config），为了防止程序员忘记重写super.init（config）方法sun公司自动为用户生成一个public void init()的方法</span><br></pre></td></tr></table></figure>
<p><strong>4.Servlet的三种创建方式</strong></p>
<p>方式一：继承HttpServlet</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Servlet implementation class HelloServlet</span><br><span class="line"> * 演示Servlet的第一种创建方式，继承HttpServlet.也是开发中推荐的</span><br><span class="line"> * </span><br><span class="line"> */</span><br><span class="line">@WebServlet(&quot;/hs1&quot;)</span><br><span class="line">public class HelloServlet extends HttpServlet &#123;</span><br><span class="line">	private static final long serialVersionUID = 1L;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">	/**</span><br><span class="line">	 * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">	 */</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		</span><br><span class="line">		response.getWriter().print(&quot;我是Servlet创建的第一种方式&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	/**</span><br><span class="line">	 * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">	 */</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>方式二：实现接口Servlet</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Servlet创建的第二种方式：实现接口Servlet</span><br><span class="line"> * */</span><br><span class="line">@WebServlet(&quot;/hs2&quot;)</span><br><span class="line">public class HelloServlet2 implements Servlet&#123;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void destroy() &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public ServletConfig getServletConfig() &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		return null;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public String getServletInfo() &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		return null;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void init(ServletConfig arg0) throws ServletException &#123;</span><br><span class="line">		// TODO Auto-generated method stub	</span><br><span class="line">	&#125;</span><br><span class="line">	@Override</span><br><span class="line">	public void service(ServletRequest request, ServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		System.out.println(&quot;OK&quot;);</span><br><span class="line">		response.setContentType(&quot;text/html;charset=UTF-8&quot;);</span><br><span class="line">		response.getWriter().println(&quot;我是第二种创建方式&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>方式三：继承GenericServlet类</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Servlet的第三种创建方式：继承GenericServlet类*/</span><br><span class="line">@WebServlet(value=&quot;/hs3&quot;)</span><br><span class="line">public class HelloServlet3 extends GenericServlet&#123;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void service(ServletRequest request, ServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		System.out.println(&quot;OK&quot;);</span><br><span class="line">		response.setContentType(&quot;text/html;charset=UTF-8&quot;);</span><br><span class="line">		response.getWriter().println(&quot;我是第三种创建方式&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>5.Servlet的二种配置方式</strong></p>
<p>方式一：注解式配置 Servlet3.0及以后支持</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Servlet implementation class HelloServlet</span><br><span class="line"> * 演示Servlet注解式配置</span><br><span class="line"> */</span><br><span class="line">@WebServlet(value=&quot;/hello&quot;,loadOnStartup=1)</span><br><span class="line">public class HelloServlet extends HttpServlet &#123;</span><br><span class="line">	private static final long serialVersionUID = 1L;</span><br><span class="line">	/**</span><br><span class="line">	 * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">	 */</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		</span><br><span class="line">		response.getWriter().print(&quot;OK&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	/**</span><br><span class="line">	 * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">	 */</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>方式二：web.xml配置 Servlet所有版本都支持</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Servlet implementation class HelloServlet</span><br><span class="line"> * 演示Servlet的web.xml配置</span><br><span class="line"> */</span><br><span class="line">public class HelloServlet extends HttpServlet &#123;</span><br><span class="line">	private static final long serialVersionUID = 1L;</span><br><span class="line"></span><br><span class="line">	/**</span><br><span class="line">	 * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">	 */</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		</span><br><span class="line">		response.getWriter().print(&quot;OK&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	/**</span><br><span class="line">	 * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">	 */</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>web.xml文件配置如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot; version=&quot;3.1&quot;&gt;</span><br><span class="line">  &lt;display-name&gt;Web_Day11&lt;/display-name&gt;</span><br><span class="line">  &lt;!--Servlet的第二种配置  --&gt;</span><br><span class="line">  &lt;!--Servlet配置  --&gt;</span><br><span class="line">  &lt;servlet&gt;</span><br><span class="line">  &lt;!--名称  --&gt;</span><br><span class="line">    &lt;servlet-name&gt;hello2&lt;/servlet-name&gt;</span><br><span class="line">    &lt;!--Servlet的全称类名  --&gt;</span><br><span class="line">    &lt;servlet-class&gt;com.qf.web.servlet.HelloServlet&lt;/servlet-class&gt;</span><br><span class="line">    &lt;!--启动的优先级，数字越小越先起作用  --&gt;</span><br><span class="line">    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;</span><br><span class="line">  &lt;/servlet&gt;</span><br><span class="line">  &lt;!--映射配置  --&gt;</span><br><span class="line">  &lt;servlet-mapping&gt;</span><br><span class="line">  &lt;!--名称  --&gt;</span><br><span class="line">    &lt;servlet-name&gt;hello2&lt;/servlet-name&gt;</span><br><span class="line">    &lt;!--资源的匹配规则：精确匹配  --&gt;</span><br><span class="line">    &lt;url-pattern&gt;/hello2&lt;/url-pattern&gt;</span><br><span class="line">  &lt;/servlet-mapping&gt;</span><br><span class="line">  &lt;welcome-file-list&gt;</span><br><span class="line">    &lt;welcome-file&gt;login.html&lt;/welcome-file&gt;</span><br><span class="line">  &lt;/welcome-file-list&gt;</span><br><span class="line">&lt;/web-app&gt;</span><br></pre></td></tr></table></figure>
<h4 id="八-Servlet的生命周期"><a href="#八-Servlet的生命周期" class="headerlink" title="八.Servlet的生命周期"></a>八.Servlet的生命周期</h4><p><strong>1.概念</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">生命周期也就是生命历程，就像人都是从怀胎--&gt;出生--&gt;婴儿--&gt;儿童--&gt;少年--&gt;成年--&gt;中年--&gt;老年--&gt;死亡</span><br></pre></td></tr></table></figure>
<p><strong>2.生命周期的四个阶段</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">阶段一、实例化</span><br><span class="line">实例化阶段是Servlet生命周期中的第一步，由Servlet容器调用Servlet的构造器创建一个具体的Servlet对象的过程。而这个创建的时机可以是在容器收到针对这个组件的请求之后，即用了才创建；也可以在容器启动之后立刻创建实例，而不管此时Servlet是否使用的上。使用如下代码可以设置Servlet是否在服务器启动时就执行创建</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">阶段二、初始化</span><br><span class="line">Servlet在被加载实例化之后，必须要初始化它。在初始化阶段，init（）方法会被调用。这个方法在javax.servlet.Servlet接口中定义。其中，方法以一个ServletConfig类型的对象作为参数。ServletConfig对象由Servlet引擎负责创建，从中可以读取到事先在web.xml文件中通过&lt;init-param&gt;节点配置的多个name-value名值对。ServletConfig对象还可以让Servlet接受一个ServletContext对象。</span><br><span class="line">一般情况下，init方法不需要编写，因GenericServlet已经提供了init方法的实现，并且提供了getServletConfig方法来获得ServletConfig对象。</span><br><span class="line">注：init方法只被执行一次</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">阶段三、就绪/服务</span><br><span class="line">Servlet被初始化以后就处于能够响应请求的就绪状态。每个对Servlet的请求由一个ServletRequest对象代表，Servlet给客户端的响应由一个ServletResponse对象代表。当客户端有一个请求时，容器就会将请求与响应对象转给Servlet，以参数的形式传给service方法。service方法由javax.servlet.Servlet定义，由具体的Servlet实现</span><br><span class="line">HttpServlet将service方法拆分了。doGet和doPost</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">阶段四、销毁</span><br><span class="line">Servlet容器在销毁Servlet对象时会调用destroy方法来释放资源。通常情况下Servlet容器停止或者重新启动都会引起销毁Servlet对象的动作，但除此之外，Servlet容器也有自身管理Servlet对象的准则，整个生命周期并不需要人为进行干预</span><br></pre></td></tr></table></figure>
<p><strong>3.生命周期代码如下：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Servlet implementation class LifeServlet</span><br><span class="line"> * 演示Servlet的生命周期：</span><br><span class="line"> * 1、实例化</span><br><span class="line"> * 2、init:初始化</span><br><span class="line"> * 3、service：服务</span><br><span class="line"> * 4、destory：销毁</span><br><span class="line"> */</span><br><span class="line">@WebServlet(&quot;/LifeServlet&quot;)</span><br><span class="line">public class LifeServlet extends HttpServlet &#123;</span><br><span class="line">	private static final long serialVersionUID = 1L;</span><br><span class="line">       </span><br><span class="line">    /**</span><br><span class="line">     * @see HttpServlet#HttpServlet()</span><br><span class="line">     */</span><br><span class="line">    public LifeServlet() &#123;</span><br><span class="line">        super();</span><br><span class="line">        System.out.println(&quot;1、完成了实例化&quot;);</span><br><span class="line">        // TODO Auto-generated constructor stub</span><br><span class="line">    &#125;</span><br><span class="line">    @Override</span><br><span class="line">    public void init() throws ServletException &#123;</span><br><span class="line">    	// TODO Auto-generated method stub</span><br><span class="line">    	super.init();</span><br><span class="line">    	System.out.println(&quot;2、完成了初始化&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	/**</span><br><span class="line">	 * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">	 */</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		System.out.println(&quot;3、就绪中&quot;);</span><br><span class="line">		response.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	/**</span><br><span class="line">	 * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">	 */</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	@Override</span><br><span class="line">	public void destroy() &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		super.destroy();</span><br><span class="line">		System.out.println(&quot;4、销毁了&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="九-Servlet获取页面传参"><a href="#九-Servlet获取页面传参" class="headerlink" title="九.Servlet获取页面传参"></a>九.Servlet获取页面传参</h4><p><strong>1.html页面如下：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;欢迎页面&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;欢迎你&lt;/h1&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;form action=&quot;HelloServlet&quot; method=&quot;post&quot;&gt;</span><br><span class="line">&lt;label&gt;姓名：&lt;/label&gt;&lt;input name=&quot;name&quot;&gt;&lt;br/&gt;</span><br><span class="line">&lt;label&gt;年龄：&lt;/label&gt;&lt;input  name=&quot;age&quot;&gt;&lt;br/&gt;</span><br><span class="line">&lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">注意：如查在浏览器地址栏输入如下链接</span><br><span class="line">http://localhost:8080/servlet_day01/login?username=admin&amp;password=1234</span><br><span class="line"></span><br><span class="line">其中？后面称为查询字符串，一般是由键值对组成，键值对与键值对之间使用&amp;符号连接</span><br><span class="line">?username=admin&amp;password=1234</span><br></pre></td></tr></table></figure>
<p><strong>2.Servlet代码如下：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Servlet implementation class HelloServlet</span><br><span class="line"> * 演示Servlet的获取请求参数</span><br><span class="line"> * </span><br><span class="line"> */</span><br><span class="line">@WebServlet(&quot;/HelloServlet&quot;)</span><br><span class="line">public class HelloServlet extends HttpServlet &#123;</span><br><span class="line">	private static final long serialVersionUID = 1L;</span><br><span class="line">	/**</span><br><span class="line">	 * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">	 */</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		//获取表单提交的姓名</span><br><span class="line">		String name=request.getParameter(&quot;name&quot;);</span><br><span class="line">		//获取年龄</span><br><span class="line">		String age=request.getParameter(&quot;age&quot;);</span><br><span class="line">		//服务端输出打印</span><br><span class="line">		System.out.println(request.getRemoteAddr()+&quot;发来信息：姓名：&quot;+name+&quot;----&gt;年龄：&quot;+age);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	/**</span><br><span class="line">	 * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">	 */</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>3.get请求和post请求区别</strong></p>
<p>默认的请求方式是GET请求，对应的Servlet的方法是doGet方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">GET提交的数据会放在URL之后，以?分割URL和传输数据，参数之间以&amp;相连</span><br><span class="line">GET提交的数据大小有限制（因为浏览器对URL的长度有限制）</span><br><span class="line">GET方式提交数据，会带来安全问题</span><br><span class="line">效率高</span><br></pre></td></tr></table></figure>
<p>POST请求，对应的Servlet的方法是doPost</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">POST方法是把提交的数据放在HTTP包的Body中</span><br><span class="line">POST方法提交的数据没有限制</span><br><span class="line">POST提交的数据相对安全</span><br><span class="line">效率相对没有GET高</span><br></pre></td></tr></table></figure>
<p><strong>4.中文乱码解决</strong></p>
<p>产生乱码原因：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">产生乱码，就是因为服务器和客户端沟通的编码不一致造成的，因此解决的办法是：在客户端和服务器之间设置一个统一的编码，之后就按照此编码进行数据的传输和接收</span><br></pre></td></tr></table></figure>
<p>get中文乱码解决方式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">三码一致</span><br><span class="line">1.tomcat中工程的编码要和页面编码一致</span><br><span class="line">2.tomcat服务器编码也要和上述编码一致</span><br><span class="line"></span><br><span class="line">工程编码默认设置方式：</span><br><span class="line">window---&gt;preferences---&gt;general---&gt;workspace</span><br><span class="line"></span><br><span class="line">在server.xml文件中可以配置服务器的编码：</span><br><span class="line"> &lt;Connector connectionTimeout=&quot;20000&quot; port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; redirectPort=&quot;8443&quot; URIEncoding=&quot;GBK&quot;/&gt;</span><br><span class="line">tomcat 其默认编码是ISO8859-1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">在Tomcat7及以下</span><br><span class="line">客户端以UTF-8的编码传输数据到服务器端，而服务器端的request对象使用的是ISO8859-1这个字符编码来接收数据，服务器和客户端沟通的编码不一致因此才会产生中文乱码的。解决办法：在接收到数据后，先获取request对象以ISO8859-1字符编码接收到的原始数据的字节数组，然后通过字节数组以指定的编码构建字符串，解决乱码问题。</span><br><span class="line"></span><br><span class="line">Tomcat8的版本中GET基本就不会乱码了，因为服务器对url的编码格式可以进行自动转换</span><br></pre></td></tr></table></figure>
<p>代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Servlet implementation class HelloServlet</span><br><span class="line"> * 演示Servlet的GET请求,中文乱码的问题</span><br><span class="line"> * </span><br><span class="line"> */</span><br><span class="line">@WebServlet(&quot;/GETServlet&quot;)</span><br><span class="line">public class GetServlet extends HttpServlet &#123;</span><br><span class="line">	private static final long serialVersionUID = 1L;</span><br><span class="line"></span><br><span class="line">	/**</span><br><span class="line">	 * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">	 */</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		//获取表单提交的姓名</span><br><span class="line">		String name=request.getParameter(&quot;name&quot;);</span><br><span class="line">		name=new String(name.getBytes(&quot;ISO8859-1&quot;),&quot;UTF-8&quot;);</span><br><span class="line">		//获取年龄</span><br><span class="line">		String age=request.getParameter(&quot;age&quot;);</span><br><span class="line">		//服务端输出打印</span><br><span class="line">		System.out.println(request.getRemoteAddr()+&quot;发来信息：姓名：&quot;+name+&quot;----&gt;年龄：&quot;+age);</span><br><span class="line">	&#125;</span><br><span class="line">	/**</span><br><span class="line">	 * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">	 */</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Post乱码解决方式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">由于客户端是以UTF-8字符编码将表单数据传输到服务器端的，因此服务器也需要设置以UTF-8字符编码进行接收，要想完成此操作，服务器可以直接使用从ServletRequest接口继承而来的&quot;setCharacterEncoding(charset)&quot;方法进行统一的编码设置。</span><br></pre></td></tr></table></figure>
<p>代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Servlet implementation class HelloServlet</span><br><span class="line"> * 演示Servlet的GET请求,中文乱码的问题</span><br><span class="line"> * </span><br><span class="line"> */</span><br><span class="line">@WebServlet(&quot;/GETServlet&quot;)</span><br><span class="line">public class GetServlet extends HttpServlet &#123;</span><br><span class="line">	private static final long serialVersionUID = 1L;</span><br><span class="line"></span><br><span class="line">	/**</span><br><span class="line">	 * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">	 */</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	/**</span><br><span class="line">	 * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">	 */</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		//设置请求参数的编码格式--对GET无效</span><br><span class="line">        request.setCharacterEncoding(&quot;UTF-8&quot;);</span><br><span class="line">		//获取表单提交的信息</span><br><span class="line">		String name=request.getParameter(&quot;msg&quot;);</span><br><span class="line">		//服务端输出打印</span><br><span class="line">		System.out.println(request.getRemoteAddr()+&quot;发来信息：&quot;+msg);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>5.Servlet输出中文</strong></p>
<p>页面产生乱码原因</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">浏览器识别不到返回的中文是什么编码格式，就会默认使用GB2312,如果返回的是UTF-8格式的那么在浏览器上就会显示乱码的问题</span><br></pre></td></tr></table></figure>
<p>解决方式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response.setContentType(&quot;text/html;charset=UTF-8&quot;);</span><br></pre></td></tr></table></figure>
<h4 id="十-作业"><a href="#十-作业" class="headerlink" title="十.作业"></a>十.作业</h4><p>请结合之前学习的前端技术，用户注册功能（用户名，密码，性别，地址），</p>
<p>实现一个页面输入内容存储到数据库的功能</p>
<p>使用Servlet接收页面数据，通过JDBC存储到数据库</p>
</div><div class="tags"></div><div class="post-nav"><a class="pre" href="/2018/10/23/JDBC高级操作和事务/"></a><a class="next" href="/2018/10/23/Servlet的Request和Response对像/"></a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://kongxianghe.top"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/10/23/javascript前端脚本技术/">javascript前端脚本技术</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/23/CSS样式表/">CSS样式表</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/23/javaScript前端脚本技术二/">javaScript前端脚本技术二</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/23/mysql数据库基础/">mysql数据库基础</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/23/mysql数据库高级/">mysql数据库高级</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/23/JDBC实现CRUD/">JDBC实现CRUD</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/23/JDBC高级操作和事务/">JDBC高级操作和事务</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/23/Tomcat服务器及Servlet入门/">Tomcat服务器及Servlet入门</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/23/Servlet的Request和Response对像/">Servlet的Request和Response对像</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/23/Session和Cookie对像/">Session和Cookie对像</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">BLOG.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>